<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JSON reader</title>
    <meta charset="utf-8" />
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="scripts/show_login.js"></script>
    <script type="text/javascript" src="scripts/get_xml_http.js"></script>
    <script type="text/javascript" src="scripts/get_cookie.js"></script>
    <script type="text/javascript" src="scripts/tab_control.js"></script>
    <script type="text/javascript" src="scripts/tree.js"></script>
    <script>
        document.onreadystatechange = function () {
            var login = document.getElementById('login_li');
            var enter = document.getElementById('enter');
            var subm = document.getElementById('subm_button');
            var json_text = document.getElementById('json_text');
            var json_tree = document.getElementById('json_tree');

            enter.onclick = loginBox.showLogin;
            subm.onclick = xmlHttp.login;
            json_text.onclick = tabControl.toTextHref;
            json_tree.onclick = tabControl.toTreeHref;
            if (cookieWork.getCookie('__AUTH_COOKIE_') != '') {
                login.innerHTML = '<li><a href="#" id="exit" onclick="loginBox.logout();">Выйти</a></li><li><input id="load_json" type="button" value="Load data" onclick="xmlHttp.loadJson()"/></li>';
            }
        }
    </script>
</head>
<body>
    <div id="header">

    </div>
    <div id="menu">
        <ul id="login_li">
            <li><a href="#" id="enter">Войти</a></li>
        </ul>
    </div>
    <fieldset id="login_wrap" class="login_wrap" style="display:none;">
        <legend></legend>
        Логин
        <br />
        <input id="login" type="text" />
        <br />
        Пароль
        <br />
        <input id="password" type="password" />
        <br />
        <input id="subm_button" type="button" value="Вход" />
        <center><img id="loading" src="css/loader.gif" style="display: none" /></center>
    </fieldset>
    <div id="tab" style="display:none">
        <ul>
            <li id="json_text">JSON text</li>
            <li id="json_tree">JSON tree</li>
        </ul>
    </div>
    <div id="json_area" class="json_area" style="display:none">
        <textarea id="text_area"></textarea>
        <div id="tree_area" style="padding: 0 0 25% 0; margin: 1% 0 0 1%; display: none"></div>
    </div>
</body>
</html>
